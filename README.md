# PhiEdit 2573 Online（Made by [@程序小袁_2573](https://space.bilibili.com/522248560)）


## 搭建环境

### 安装依赖

双击运行`install.cmd`，输入要安装的包，然后按回车键。
如果你刚下载下来这个项目的文件，不用输入安装的包，直接按回车键即可安装所有依赖。

### 运行本地开发服务器

双击运行`dev.cmd`，等待服务器启动，在浏览器中访问`http://localhost:8080`。
如果在开发过程中安装或删除了依赖，或者修改了根目录下的配置文件（比如`vue.config.js`），你需要重新运行`dev.cmd`以应用你的修改。

### 编译为生产环境

双击运行 `build.cmd`，然后将生成的文件部署到你的服务器或托管服务。编译后的文件通常位于 `dist` 目录中。

## 我名字里面那个2573其实是这么来的
好几年前的一天，我翻开了一本关于数学思维的书
我翻到了某一页，上面有一个思维游戏：
*把你的出生日期和你的年龄先这样算，再那样算，最后再这样算，会得到一个数，你把这个数字告诉魔术师，魔术师就能知道你的出生日期和年龄。*
具体算法我就不说了，但是我按照这个算法算了一遍之后，得到的数字就是22573
我那时还小，不懂得这个游戏背后的原理，所以我就去看了答案
答案说，*魔术师用你算出来的数字先那样算，再这样算，最后再怎么怎么样之后，又会得到一个数，最后两位就是你的年龄，前面的三位就是出生日期*
我算了一下，居然还真是！在现在看来，这不过是一个简单的方程问题而已，但我那时候那么小哪懂啊，我就觉得，好神奇啊，这个数字是不是我的幸运数字啊，于是我就拿这个数做了网名
考虑到五位数22573念起来不顺口，我还天真地去掉了一位数，变成了2573（正好跟3473的后两位撞名了，但其实我跟3473一点关系没有）

## 创作原因
- RPE的bug太多，有时候不知道干了什么就崩了，结果还没保存就直接没了
- RPE学习成本太高，就那个什么数值下界数值上界扰动根本看不懂
- RPE缺少很多方便的功能，比如将一条判定线的note一键转移到另一条判定线

## 文件目录结构解释
- `chartRenderer.ts`: 用于将谱面渲染到canvas上
- `editor.ts`: 用于编辑谱面
- `eventEmitter.ts`: 用于分发事件，实现发布订阅模式（一般都是一些用户操作的事件，比如按下鼠标）
- `store.ts`: 一些全局变量（可以考虑改为vuex）
- `tools\`: 各种工具[^tool]
- `classes\`: 各种类（一般都与实际业务相关）
- `editorComponents\`: 用于编辑谱面的vue组件，显示在界面右侧
- `myElements\`: 一些自定义的vue组件

## 一些未修复的bug和未实现的功能（只列出部分）
- 编辑谱面的功能很不完全（没有撤销、重做的功能）
- 开发模式下vue热加载会出现很多奇怪的bug
- 我打算以后给这个项目做成一个制谱器、谱面播放器、Phigros模拟器三合一的项目，现在只有前两个功能
- 向后拖进度条会发出炸裂的打击音效（懒得修了）
- 不支持判定线的bpmfactor、alphaControl、posControl、sizeControl、skewControl、yControl（因为不清楚这几个属性的含义）
- 不支持资源包的holdCompact（懒得支持）

[^tool]: 工具的特点是可复用性高，且与实际业务无直接关系（拿到别的项目里也能用）